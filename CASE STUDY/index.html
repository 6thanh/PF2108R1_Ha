<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case study (Nguyễn Thanh Hà)</title>
    <style>
        /* * {
            margin: 0px;
            padding: 0px;
            box-sizing: border-box;
        }

        #all {
            width: 400px;
            height: 300px;
            margin: 30px auto;
            display: grid;
            grid-template-columns: 300px 100px;
        }

        #myCanvas {
            width: 100%;
            height: 300px;
            border: 1px solid grey;
            background: honeydew;
        }

        #scores {
            width: 100%;
            height: 300px;
            background: lemonchiffon;
            border: 1px solid grey;
            text-align: center;
        } */
    </style>
</head>

<body>

    <canvas id="myCanvas" width="400px" height="400px" style="border: 1px solid black"></canvas>
    <button onclick="stop()">Stop</button>

    <script>
        let ctx = document.getElementById('myCanvas').getContext('2d');
        let scores = document.getElementById('scores');

        //prompt width-height Canvas???

        class Ball {
            constructor(widthCanvas, heightCanvas, speed) {
                this.widthCanvas = widthCanvas;
                this.heightCanvas = heightCanvas;
                this.speedX = speed;
                this.speedY = -speed;
                this.radius = 10;
                this.scrollBarY = 300; // thay đổi sau khi có thanh trượt(top)
                this.x = widthCanvas / 2;
                this.y = this.scrollBarY - this.radius;
            }

            drawBall() {
                // ctx.clearArc(this.x-this.speedX, this.y-this.speedY, this.radius, 0, 2 * Math.PI, true);

                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI, true);
                ctx.fillStyle = "green";
                ctx.fill();
            }
            moveBall() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.ballTop = this.y - this.radius;
                this.ballRight = this.x + this.radius;
                this.ballBottom = this.y + this.radius;
                this.ballLeft = this.x - this.radius;
            }

            checkCollision() {
                if (this.ballLeft <= 0 || this.ballRight >= this.widthCanvas) {
                    this.speedX = -this.speedX;
                }
                if (this.ballTop <= 0 || this.ballBottom >= this.scrollBarY) {
                    this.speedY = -this.speedY
                }
            }
        }
        let ball = new Ball(400, 400, 10);
        ball.drawBall();

        function update() {
            ball.moveBall();
            ball.checkCollision();
            ball.drawBall()
        }
        setInterval(update,100)
        
    </script>
</body>

</html>